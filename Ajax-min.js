function Ajax(a,b,c,d,e){this.url=a||"";this.data=b||"";this.callback=c||function(a){return a};this.method=d||"POST";this.async=e||!0;this.factories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}]}
Ajax.prototype.object=function(){var a,b,c,d;d=this;a=!1;for(b=0;b<this.factories.length;b+=1){c=!1;try{a=this.factories[b]()}catch(e){c=!0}if(!c)break}null!==a&&(a.onreadystatechange=function(){var b=!0;4!==a.readyState&&(b=!1);200!==a.status&&304!==a.status&&(b=!1);b&&d.callback(a)});if(null!==a)return a};
Ajax.prototype.update=function(a){var b=!1;"function"===typeof this.object&&(this.object=this.object());"object"===typeof this.object&&(this.object.open(this.method,this.url,this.async),void 0!==a||null!==a?(this.object.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.object.send(a)):""!==this.data?(this.object.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.object.send(this.data)):this.object.send(),b=!0);return b};
